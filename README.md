# **ExpeL_COA** ü™ñ
ExpeL agent fitted to run course-of-action (COA) benchmark tests for planning military plans on a simulated battlefield.

## **Setting up Your Virtual Environment: üåé**
Creating a conda environment for ExpeL is the same process described by the original repository.

```
conda create -n expel python=3.9.17
conda activate expel

git clone https://github.com/LeapLabTHU/ExpeL.git expel
cd expel

pip install -r requirements.txt
```

## **How to Run COA Benchmark Tests: üõ©Ô∏è**

1. Specify your input `.joblib` `task_file` in [`coa.yaml`](configs/benchmark/coa.yaml)
2. Set your OpenAI API key as follows: `export OPENAI_API_KEY=[YOUR_KEY_HERE]`
3. That's it... run any of the Python scripts in the root directory.

## **Table of Contents: üìñ**

### **Key Files and Folders: üêçüóÇÔ∏è**
The files and folders summarized here have been modified from the original ExpeL benchmark to implement the COA tests. 

- `configs/benchmark/`:
  - [`coa.yaml`](configs/benchmark/coa.yaml):<br>
    Stores config information about number of fewshot examples, input `.joblib` file, and k_folds variables.
- `data/coa/`: 
  - `[PREFIX].csv`:<br>
    CSV files aren't used for running the COA benchmark, and serve as a visual aid to understand how the data is structured.
  - `[PREFIX].joblib`:<br>
    Input file that allows the LLM to generate COA plans given `supporting_information` regarding friendly troops and enemy units.
- `envs/`:
  - [`__init__.py`](envs/__init__.py):<br>
    Specifies COA tasks and environment variables from the input `.joblib` file
  - `coa/`: 
    - [`battlefield_validation.py`](envs/coa/battlefield_validation.py):<br>
      Features the `BattlefieldValidation` helper class that evaluates valid attack, move, and stand actions issued by the LLM.
    - [`coa.py`](envs/coa/coa.py):<br>
      Environment script that evaluates attack, move, and stand actions issued by the LLM. 
- `logs/coa/expel/`:
  - Stores experiences, logs, and evaluation graphs generated by ExpeL benchmark tests
- `prompts/`:
  - [`__init__.py`](prompts/__init__.py):<br>
    Relays prompt variables for [`ExpelAgent`](agent/expel.py) initially defined in [`coa.py`](prompts/coa.py) to properly run the ExpeL pipeline files, such as [`train.py`](train.py)
  - [`coa.py`](prompts/coa.py):<br>
    Defines prompt variables for [`ExpelAgent`](agent/expel.py)

## **Classic ExpeL: üí≠**
As mentioned earlier, all files not covered in the aforementioned list above have been (nearly) unchanged from the original ExpeL repository, which can be found [here](https://github.com/LeapLabTHU/ExpeL/tree/main).

## **Contact: ‚òéÔ∏è**
If you have any questions about any of the COA files or folders featured here, please reach out to Luke Nam at [lukelike1001@gmail.com](mailto:lukelike1001@gmail.com)